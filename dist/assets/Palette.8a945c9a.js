import{d as P,c as p,o as v,a as _,b as r,n as S,u as g,e as ue,t as X,f as R,g as J,h as T,i as L,j as u,C as he,p as K,k as Q,_ as q,w as Y,B as ge,r as b,l as x,m as ve,q as pe,T as me,s as F,D as W,v as fe,F as G,x as ye,y as ke,z as xe}from"./index.6517e837.js";const Z=n=>(K("data-v-422dfbc9"),n=n(),Q(),n),Ce={class:"colorInfo"},Me={class:"colorLabel"},_e={key:0,class:"material-icons"},Fe={class:"leftRightButtons"},Ie=Z(()=>r("span",{class:"material-icons"},"chevron_left",-1)),$e=[Ie],Be=Z(()=>r("span",{class:"material-icons"},"chevron_right",-1)),Re=[Be],be=P({__name:"PaletteColor",props:{color:{type:Object,required:!0},displayType:{type:String,default:"hex"},canMoveRight:{type:Boolean,required:!0},canMoveLeft:{type:Boolean,required:!0},pickerOpen:{type:Boolean,default:!1},index:{type:Number,required:!0},maxIndex:{type:Number,required:!0}},emits:["edit","togglePicker","add","moveRight","moveLeft","delete","pin"],setup(n,{emit:i}){const c=n,C=p(()=>{switch(c.displayType.toLowerCase()){case"hsl":let f=Math.round(u(c.color.hex).get("hsl.h")),s=Math.round(u(c.color.hex).get("hsl.s")*100),h=Math.round(u(c.color.hex).get("hsl.l")*100);return`hsl(${isNaN(f)?0:f}, ${s}%, ${h}%)`;case"rgb":return u(c.color.hex).css();case"hex":return c.color.hex}}),a=p(()=>u(c.color.hex).luminance()<.5?"var(--text-white)":"var(--text-dark)"),m=p(()=>({addColorButton:!0,moveLeft:c.index!=0,moveRight:c.index==0})),I=p(()=>({addColorButton:!0,moveLeft:c.index===c.maxIndex,moveRight:c.index!==c.maxIndex})),$=p(()=>c.color.locked?"material-icons pinIcon":"material-icons-outlined pinIcon");return(f,s)=>(v(),_("div",{class:"paletteColor move-transition",style:T(`background-color: ${n.color.hex}; color: ${g(a)}`)},[r("div",{class:S(g(m))},[r("span",{onClick:s[0]||(s[0]=h=>i("add",n.index)),class:"material-icons"},"add")],2),r("div",Ce,[r("p",Me,[ue(X(g(C))+" ",1),n.color.locked?(v(),_("span",_e,"push_pin")):R("",!0)]),r("span",{class:"material-icons copyIcon",onClick:s[1]||(s[1]=h=>g(J)(n.color.hex))},"content_copy"),r("span",{class:"material-icons editIcon",onClick:s[2]||(s[2]=h=>i("togglePicker"))},"edit"),r("span",null,[r("span",{class:S(g($)),style:T(`opacity: ${n.color.locked?"1":"0.6"}`),onClick:s[3]||(s[3]=h=>i("pin"))},"push_pin",6)]),r("span",{class:"material-icons deleteIcon",onClick:s[4]||(s[4]=h=>i("delete"))},"delete"),r("span",Fe,[n.canMoveLeft?(v(),_("div",{key:0,class:"moveLeftButton",onClick:s[5]||(s[5]=h=>i("moveLeft"))},$e)):R("",!0),n.canMoveRight?(v(),_("div",{key:1,class:"moveRightButton",onClick:s[6]||(s[6]=h=>i("moveRight"))},Re)):R("",!0)])]),r("div",{class:S(g(I))},[r("span",{class:"material-icons",onClick:s[7]||(s[7]=h=>i("add",n.index+1))},"add")],2),n.pickerOpen?(v(),L(he,{key:0,responsive:"",closable:"",hueIn:g(u)(n.color.hex).get("hsv.h"),satIn:g(u)(n.color.hex).get("hsv.s"),valIn:g(u)(n.color.hex).get("hsv.v"),class:"colorPickerBig",onChange:s[8]||(s[8]=h=>i("edit",n.color,h)),onClose:s[9]||(s[9]=h=>i("togglePicker"))},null,8,["hueIn","satIn","valIn"])):R("",!0)],4))}});const Le=q(be,[["__scopeId","data-v-422dfbc9"]]),Se={class:"material-icons"},Te=P({__name:"ImgButton",props:{icon:{type:String,required:!0},large:{type:Boolean}},setup(n){const i=n,c=p(()=>({width:i.large?"48px":"40px",height:i.large?"48px":"40px"}));return(C,a)=>(v(),L(ge,{class:"imgButton",style:T(g(c)),onClick:a[0]||(a[0]=m=>C.$emit("click",m))},{default:Y(()=>[r("span",Se,X(n.icon),1)]),_:1},8,["style"]))}});const U=q(Te,[["__scopeId","data-v-04281c81"]]),ee=n=>(K("data-v-d8aa7232"),n=n(),Q(),n),Pe=["content"],qe=["content"],we=ee(()=>r("meta",{property:"og:title",content:"Dyetools - Color palette"},null,-1)),He=ee(()=>r("title",null,"Dyetools - Color palette",-1)),Ae={class:"palette"},Ne={class:"settingsBar"},De=P({__name:"Palette",setup(n){const i=ye(),c=["Auto","Analogous","Monochromatic","Complementary","Split-complementary","Triadic","Tetradic","Square","Cool","Warm","Random"],C=["HEX","RGB","HSL"],a=b([{hashId:x(6),hex:"#FFFFFF",locked:!1},{hashId:x(6),hex:"#FFFFFF",locked:!1},{hashId:x(6),hex:"#FFFFFF",locked:!1},{hashId:x(6),hex:"#FFFFFF",locked:!1},{hashId:x(6),hex:"#FFFFFF",locked:!1}]),m=b(-1),I=b("auto"),$=b(0),f=p(()=>a.value.filter(t=>t.locked)),s=p(()=>a.value.filter(t=>!t.locked)),h=p(()=>C[$.value]),te=t=>{let e=a.value,o=e[t];e[t]=e[t-1],e[t-1]=o,a.value=e,M()},oe=t=>{let e=a.value,o=e[t];e[t]=e[t+1],e[t+1]=o,a.value=e,M()},le=t=>{I.value=c[t].toLowerCase(),B()},ae=()=>{let t=window.location.href;J(t),xe.value="Link copied!"},ne=t=>{a.value[t].locked=!a.value[t].locked},se=(t,e)=>{console.log(e,t);let o=isNaN(e.hue)?0:e.hue;t.hex=u(o,e.sat,e.val,"hsv").hex(),M()},re=t=>{m.value!=t?m.value=t:m.value=-1},w=t=>{let e=t.get("hsl.h"),l=[[e,e+20,e+40],[e,e-20,e-40]][Math.round(Math.random())];y(t,l)},H=t=>{let o=[t.get("hsl.h")];y(t,o)},A=t=>{let e=t.get("hsl.h"),l=[[e,e+180],[e,e-180]][Math.round(Math.random())];y(t,l)},N=t=>{let e=t.get("hsl.h"),l=[[e,e+171,e+99],[e,e-171,e-99]][Math.round(Math.random())];y(t,l)},D=t=>{let e=t.get("hsl.h"),l=[[e,e+120,e+240],[e,e-120,e-240]][Math.round(Math.random())];y(t,l)},O=t=>{for(let e=t;e<a.value.length;e++){let o=a.value[e];o.locked||(o.hex=u.random().hex())}},j=t=>{let e=t.get("hsl.h"),l=[[e,e+90,e+180,e+270],[e,e-90,e-180,e-270]][Math.round(Math.random())];y(t,l)},E=t=>{let e=t.get("hsl.h"),l=[[e,60+e,180+e,240+e],[e,e-60,e-180,e-240]][Math.round(Math.random())];y(t,l)},y=(t,e)=>{for(let o=0;o<s.value.length;o++){let l=s.value[o];if(!l.locked){let d=t.get("hsl.h");o<e.length?d=e[o]%360:d=e[Math.round(Math.random()*e.length-1)]%360;let k=Math.random(),de=Math.random();l.hex=u(d,k,de,"hsl").hex()}}},V=t=>{f.value.length==0&&(t=0);for(let e=t;e<a.value.length;e++){let o=a.value[e];if(!o.locked){let l=(Math.random()*110+310)%360,d=Math.random(),k=Math.random();o.hex=u(l,d,k,"hsl").hex()}}},z=t=>{f.value.length==0&&(t=0);for(let e=t;e<a.value.length;e++){let o=a.value[e];if(!o.locked){let l=(Math.random()*250+60)%360,d=Math.random(),k=Math.random();o.hex=u(l,d,k,"hsl").hex()}}},B=()=>{let t=null;const e=f.value;let o=0;if(e.length==0)t=u.random(),a.value[0].hex=t.hex(),o=1;else{let l=Math.round(Math.random()*(e.length-1));t=u(e[l].hex)}switch(I.value){case"auto":let l=Math.random()*10;l<1?O(o):l<2?w(t):l<3?D(t):l<4?E(t):l<5?A(t):l<6?N(t):l<7?j(t):l<8?V(o):l<9?z(o):H(t);break;case"random":O(o);break;case"analogous":w(t);break;case"triadic":D(t);break;case"tetradic":E(t);break;case"complementary":A(t);break;case"split-complementary":N(t);break;case"square":j(t);break;case"warm":V(o);break;case"cool":z(o);break;case"monochromatic":H(t);break}M()},ce=t=>{a.value.length<10&&(a.value.splice(t,0,{hashId:x(6),hex:u.random().hex(),locked:!1}),M())},ie=t=>{a.value.length>1&&(a.value=a.value.filter((e,o,l)=>t!=o),M())},M=()=>{let t=a.value.map(e=>e.hex.substring(1)).join("-");i.push({path:i.currentRoute.value.path,query:{colors:t}})};return ve(()=>{if(i.currentRoute.value.query.colors==null)B();else{if(typeof i.currentRoute.value.query.colors!="string")return;const t=i.currentRoute.value.query.colors.split("-");a.value=[];for(let e=0;e<t.length;e++)a.value.push({hex:"#"+t[e].toUpperCase(),locked:!1,hashId:x(6)})}}),pe(()=>{document.addEventListener("keypress",t=>{t.code=="Space"&&B()})}),(t,e)=>(v(),_(G,null,[(v(),L(me,{to:"head"},[r("meta",{name:"description",content:a.value.map(o=>o.hex).join(", ")},null,8,Pe),r("meta",{property:"og:description",content:a.value.map(o=>o.hex).join(", ")},null,8,qe),we,He])),r("div",Ae,[r("div",Ne,[F(W,{values:c,onSelect:le}),F(W,{values:C,onSelect:e[0]||(e[0]=o=>$.value=o)}),F(U,{icon:"share",onClick:ae}),F(U,{icon:"refresh",onClick:B})]),F(fe,{name:"move",tag:"div",class:"paletteColors"},{default:Y(()=>[(v(!0),_(G,null,ke(a.value,(o,l)=>(v(),L(Le,{key:l,color:o,canMoveLeft:l!==0,canMoveRight:l!==a.value.length-1,displayType:g(h),pickerOpen:m.value===l,index:l,"max-index":a.value.length-1,onTogglePicker:d=>re(l),onMoveLeft:d=>te(l),onMoveRight:d=>oe(l),onDelete:d=>ie(l),onEdit:(d,k)=>se(d,k),onPin:d=>ne(l),onAdd:e[1]||(e[1]=d=>ce(d))},null,8,["color","canMoveLeft","canMoveRight","displayType","pickerOpen","index","max-index","onTogglePicker","onMoveLeft","onMoveRight","onDelete","onEdit","onPin"]))),128))]),_:1})])],64))}});const je=q(De,[["__scopeId","data-v-d8aa7232"]]);export{je as default};
