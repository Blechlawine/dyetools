import{d as P,c as y,o as g,a as B,b as v,e as h,I as m,n as z,u as p,f as ce,t as ie,g as M,h as L,i as X,j as S,k as u,C as de,_,w as J,B as ue,r as T,l as C,m as he,p as ge,T as ve,D as W,q as me,F as G,s as pe,v as ye,x as fe,y as ke,z as xe}from"./index.e4117772.js";const Ce={class:"colorInfo"},Me={class:"colorLabel"},Ie={class:"leftRightButtons"},Fe=P({__name:"PaletteColor",props:{color:{type:Object,required:!0},displayType:{type:String,default:"hex"},canMoveRight:{type:Boolean,required:!0},canMoveLeft:{type:Boolean,required:!0},pickerOpen:{type:Boolean,default:!1},index:{type:Number,required:!0},maxIndex:{type:Number,required:!0}},emits:["edit","togglePicker","add","moveRight","moveLeft","delete","pin"],setup(s,{emit:r}){const c=s,I=y(()=>{switch(c.displayType.toLowerCase()){case"hsl":let F=Math.round(u(c.color.hex).get("hsl.h")),a=Math.round(u(c.color.hex).get("hsl.s")*100),i=Math.round(u(c.color.hex).get("hsl.l")*100);return`hsl(${isNaN(F)?0:F}, ${a}%, ${i}%)`;case"rgb":return u(c.color.hex).css();case"hex":return c.color.hex}}),n=y(()=>u(c.color.hex).luminance()<.5?"var(--text-white)":"var(--text-dark)"),f=y(()=>({addColorButton:!0,moveLeft:c.index!=0,moveRight:c.index==0})),R=y(()=>({addColorButton:!0,moveLeft:c.index===c.maxIndex,moveRight:c.index!==c.maxIndex}));return y(()=>c.color.locked?"material-icons pinIcon":"material-icons-outlined pinIcon"),(F,a)=>(g(),B("div",{class:"paletteColor move-transition",style:S(`background-color: ${s.color.hex}; color: ${p(n)}; fill: ${p(n)}`)},[v("div",{class:z(p(f))},[h(m,{name:"md-add",onClick:a[0]||(a[0]=i=>r("add",s.index))})],2),v("div",Ce,[v("p",Me,[ce(ie(p(I))+" ",1),s.color.locked?(g(),M(m,{key:0,name:"md-pushpin"})):L("",!0)]),h(m,{name:"md-contentcopy",class:"copyIcon",onClick:a[1]||(a[1]=i=>p(X)(s.color.hex))}),h(m,{name:"md-edit",class:"editIcon",onClick:a[2]||(a[2]=i=>r("togglePicker"))}),v("span",null,[s.color.locked?(g(),M(m,{key:0,class:"pinIcon",name:"md-pushpin",style:S(`opacity: ${s.color.locked?"1":"0.6"}`),onClick:a[3]||(a[3]=i=>r("pin"))},null,8,["style"])):(g(),M(m,{key:1,class:"pinIcon",name:"md-pushpin-outlined",style:S(`opacity: ${s.color.locked?"1":"0.6"}`),onClick:a[4]||(a[4]=i=>r("pin"))},null,8,["style"]))]),h(m,{name:"md-delete",class:"deleteIcon",onClick:a[5]||(a[5]=i=>r("delete"))}),v("span",Ie,[s.canMoveLeft?(g(),B("div",{key:0,class:"moveLeftButton",onClick:a[6]||(a[6]=i=>r("moveLeft"))},[h(m,{name:"md-chevronleft"})])):L("",!0),s.canMoveRight?(g(),B("div",{key:1,class:"moveRightButton",onClick:a[7]||(a[7]=i=>r("moveRight"))},[h(m,{name:"md-chevronright"})])):L("",!0)])]),v("div",{class:z(p(R))},[h(m,{name:"md-add",onClick:a[8]||(a[8]=i=>r("add",s.index+1))})],2),s.pickerOpen?(g(),M(de,{key:0,responsive:"",closable:"",hueIn:p(u)(s.color.hex).get("hsv.h"),satIn:p(u)(s.color.hex).get("hsv.s"),valIn:p(u)(s.color.hex).get("hsv.v"),class:"colorPickerBig",onChange:a[9]||(a[9]=i=>r("edit",s.color,i)),onClose:a[10]||(a[10]=i=>r("togglePicker"))},null,8,["hueIn","satIn","valIn"])):L("",!0)],4))}});const $e=_(Fe,[["__scopeId","data-v-a274fc33"]]),Be=P({__name:"ImgButton",props:{icon:{type:String,required:!0},large:{type:Boolean}},setup(s){const r=s,c=y(()=>({width:r.large?"48px":"40px",height:r.large?"48px":"40px"}));return(I,n)=>(g(),M(ue,{class:"imgButton",style:S(p(c)),onClick:n[0]||(n[0]=f=>I.$emit("click",f))},{default:J(()=>[h(m,{name:s.icon},null,8,["name"])]),_:1},8,["style"]))}});const U=_(Be,[["__scopeId","data-v-e0850cbe"]]),K=s=>(ye("data-v-ec6c9d06"),s=s(),fe(),s),Re=["content"],be=["content"],Le=K(()=>v("meta",{property:"og:title",content:"Dyetools - Color palette"},null,-1)),Te=K(()=>v("title",null,"Dyetools - Color palette",-1)),Se={class:"palette"},Pe={class:"settingsBar"},_e=P({__name:"Palette",setup(s){const r=pe(),c=["Auto","Analogous","Monochromatic","Complementary","Split-complementary","Triadic","Tetradic","Square","Cool","Warm","Random"],I=["HEX","RGB","HSL"],n=T([{hashId:C(6),hex:"#FFFFFF",locked:!1},{hashId:C(6),hex:"#FFFFFF",locked:!1},{hashId:C(6),hex:"#FFFFFF",locked:!1},{hashId:C(6),hex:"#FFFFFF",locked:!1},{hashId:C(6),hex:"#FFFFFF",locked:!1}]),f=T(-1),R=T("auto"),F=T(0),a=y(()=>n.value.filter(t=>t.locked)),i=y(()=>n.value.filter(t=>!t.locked)),Q=y(()=>I[F.value]),Y=t=>{let e=n.value,o=e[t];e[t]=e[t-1],e[t-1]=o,n.value=e,$()},Z=t=>{let e=n.value,o=e[t];e[t]=e[t+1],e[t+1]=o,n.value=e,$()},ee=t=>{R.value=c[t].toLowerCase(),b()},te=()=>{let t=window.location.href;X(t),xe.value="Link copied!"},oe=t=>{n.value[t].locked=!n.value[t].locked},le=(t,e)=>{console.log(e,t);let o=isNaN(e.hue)?0:e.hue;t.hex=u(o,e.sat,e.val,"hsv").hex(),$()},ne=t=>{f.value!=t?f.value=t:f.value=-1},q=t=>{let e=t.get("hsl.h"),l=[[e,e+20,e+40],[e,e-20,e-40]][Math.round(Math.random())];k(t,l)},H=t=>{let o=[t.get("hsl.h")];k(t,o)},w=t=>{let e=t.get("hsl.h"),l=[[e,e+180],[e,e-180]][Math.round(Math.random())];k(t,l)},A=t=>{let e=t.get("hsl.h"),l=[[e,e+171,e+99],[e,e-171,e-99]][Math.round(Math.random())];k(t,l)},N=t=>{let e=t.get("hsl.h"),l=[[e,e+120,e+240],[e,e-120,e-240]][Math.round(Math.random())];k(t,l)},D=t=>{for(let e=t;e<n.value.length;e++){let o=n.value[e];o.locked||(o.hex=u.random().hex())}},O=t=>{let e=t.get("hsl.h"),l=[[e,e+90,e+180,e+270],[e,e-90,e-180,e-270]][Math.round(Math.random())];k(t,l)},j=t=>{let e=t.get("hsl.h"),l=[[e,60+e,180+e,240+e],[e,e-60,e-180,e-240]][Math.round(Math.random())];k(t,l)},k=(t,e)=>{for(let o=0;o<i.value.length;o++){let l=i.value[o];if(!l.locked){let d=t.get("hsl.h");o<e.length?d=e[o]%360:d=e[Math.round(Math.random()*e.length-1)]%360;let x=Math.random(),re=Math.random();l.hex=u(d,x,re,"hsl").hex()}}},E=t=>{a.value.length==0&&(t=0);for(let e=t;e<n.value.length;e++){let o=n.value[e];if(!o.locked){let l=(Math.random()*110+310)%360,d=Math.random(),x=Math.random();o.hex=u(l,d,x,"hsl").hex()}}},V=t=>{a.value.length==0&&(t=0);for(let e=t;e<n.value.length;e++){let o=n.value[e];if(!o.locked){let l=(Math.random()*250+60)%360,d=Math.random(),x=Math.random();o.hex=u(l,d,x,"hsl").hex()}}},b=()=>{let t=null;const e=a.value;let o=0;if(e.length==0)t=u.random(),n.value[0].hex=t.hex(),o=1;else{let l=Math.round(Math.random()*(e.length-1));t=u(e[l].hex)}switch(R.value){case"auto":let l=Math.random()*10;l<1?D(o):l<2?q(t):l<3?N(t):l<4?j(t):l<5?w(t):l<6?A(t):l<7?O(t):l<8?E(o):l<9?V(o):H(t);break;case"random":D(o);break;case"analogous":q(t);break;case"triadic":N(t);break;case"tetradic":j(t);break;case"complementary":w(t);break;case"split-complementary":A(t);break;case"square":O(t);break;case"warm":E(o);break;case"cool":V(o);break;case"monochromatic":H(t);break}$()},ae=t=>{n.value.length<10&&(n.value.splice(t,0,{hashId:C(6),hex:u.random().hex(),locked:!1}),$())},se=t=>{n.value.length>1&&(n.value=n.value.filter((e,o,l)=>t!=o),$())},$=()=>{let t=n.value.map(e=>e.hex.substring(1)).join("-");r.push({path:r.currentRoute.value.path,query:{colors:t}})};return he(()=>{if(r.currentRoute.value.query.colors==null)b();else{if(typeof r.currentRoute.value.query.colors!="string")return;const t=r.currentRoute.value.query.colors.split("-");n.value=[];for(let e=0;e<t.length;e++)n.value.push({hex:"#"+t[e].toUpperCase(),locked:!1,hashId:C(6)})}}),ge(()=>{document.addEventListener("keypress",t=>{t.code=="Space"&&b()})}),(t,e)=>(g(),B(G,null,[(g(),M(ve,{to:"head"},[v("meta",{name:"description",content:n.value.map(o=>o.hex).join(", ")},null,8,Re),v("meta",{property:"og:description",content:n.value.map(o=>o.hex).join(", ")},null,8,be),Le,Te])),v("div",Se,[v("div",Pe,[h(W,{values:c,onSelect:ee}),h(W,{values:I,onSelect:e[0]||(e[0]=o=>F.value=o)}),h(U,{icon:"md-share",onClick:te}),h(U,{icon:"md-refresh",onClick:b})]),h(me,{name:"move",tag:"div",class:"paletteColors"},{default:J(()=>[(g(!0),B(G,null,ke(n.value,(o,l)=>(g(),M($e,{key:o.hashId,color:o,canMoveLeft:l!==0,canMoveRight:l!==n.value.length-1,displayType:p(Q),pickerOpen:f.value===l,index:l,"max-index":n.value.length-1,onTogglePicker:d=>ne(l),onMoveLeft:d=>Y(l),onMoveRight:d=>Z(l),onDelete:d=>se(l),onEdit:(d,x)=>le(d,x),onPin:d=>oe(l),onAdd:e[1]||(e[1]=d=>ae(d))},null,8,["color","canMoveLeft","canMoveRight","displayType","pickerOpen","index","max-index","onTogglePicker","onMoveLeft","onMoveRight","onDelete","onEdit","onPin"]))),128))]),_:1})])],64))}});const He=_(_e,[["__scopeId","data-v-ec6c9d06"]]);export{He as default};
